<views:MvxWpfView x:Class="Storix.Presentation.Resources.CustomSearchBox"
                  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                  xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
                  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                  xmlns:views="clr-namespace:MvvmCross.Platforms.Wpf.Views;assembly=MvvmCross.Platforms.Wpf"
                  x:Name="Root"
                  d:DesignHeight="auto"
                  d:DesignWidth="auto"
                  mc:Ignorable="d">
    <StackPanel Margin="20,10">
        <Border Width="500"
                Height="40"
                MinWidth="400"
                Background="{DynamicResource PrimaryTextBoxBackgroundColor}"
                BorderBrush="{DynamicResource SecondaryTextBoxGrayColor}"
                BorderThickness="2"
                CornerRadius="5">
            <Grid>
                <!--  Magnify icon on the left  -->
                <iconPacks:PackIconMaterial Width="20"
                                            Height="20"
                                            Margin="10,0,0,0"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Foreground="{DynamicResource IconColor}"
                                            IsHitTestVisible="False"
                                            Kind="Magnify" />

                <!--  Placeholder text  -->
                <TextBlock x:Name="TextBlock"
                           Margin="40,0,10,0"
                           VerticalAlignment="Center"
                           FontFamily="Californian FB"
                           FontSize="12"
                           Foreground="{DynamicResource SecondaryTextBoxGrayColor}"
                           IsHitTestVisible="False"
                           Text="{Binding ElementName=Root, Path=Placeholder}"
                           Visibility="{Binding ElementName=TextBox, Path=Text.IsEmpty, Converter={StaticResource ToVisibilityConverter}}" />

                <!--  TextBox with transparent background  -->
                <TextBox x:Name="TextBox"
                         Padding="40,5.2,10,5.2"
                         VerticalContentAlignment="Center"
                         Background="Transparent"
                         BorderThickness="0"
                         FontFamily="Californian FB"
                         FontSize="12"
                         FontWeight="Heavy"
                         Text="{Binding ElementName=Root, Path=Data, UpdateSourceTrigger=PropertyChanged, ValidatesOnNotifyDataErrors=True}">
                    <TextBox.Style>
                        <Style TargetType="TextBox">
                            <Setter Property="Foreground" Value="{DynamicResource PrimaryTextColor}" />
                            <Style.Triggers>
                                <Trigger Property="Validation.HasError" Value="True">
                                    <Setter Property="ToolTip" Value="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </TextBox.Style>
                </TextBox>
            </Grid>
        </Border>
    </StackPanel>
</views:MvxWpfView>